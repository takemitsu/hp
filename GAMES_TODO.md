# 脳トレゲーム追加プロジェクト

## 概要
既存のゲームに加えて、脳トレ効果の高いゲーム5種類を追加する。

## 実装順序（難易度順）
1. ✅ 素数判定ゲーム（★☆☆☆☆）
2. ⬜ N-Backゲーム（★☆☆☆☆）
3. ⬜ 足し算チェーン（★★☆☆☆）
4. ⬜ 数字並べ替え（★★☆☆☆）
5. ⬜ パターン記憶（★★★☆☆）

## 掲載順序（面白い順・人気順）
1. Hit and Blow（既存）
2. パターン記憶（新規）
3. 100マス計算（既存）
4. N-Back（新規）
5. 素数判定（新規）
6. 足し算チェーン（新規）
7. 数字並べ替え（新規）
8. じゃんけん（既存）

---

## 1. 素数判定ゲーム

### ファイル
- `games/prime.html`

### 仕様
- **目的**: ランダムに表示される数字が素数か合成数かを判定
- **UI**:
  - 数字表示エリア（大きく）
  - 「素数」「合成数」の2ボタン
  - スコア表示（正解数、不正解数、正解率）
  - タイマー（経過時間 or タイムアタック）
  - 難易度選択（10-30 / 10-50 / 10-100）
- **ゲームフロー**:
  1. 難易度を選択してスタート
  2. ランダムな数字が表示される
  3. 素数/合成数をボタンで回答
  4. 正誤判定→スコア更新→次の問題
  5. 指定問題数（20/50/100問）終了後に結果表示
- **脳トレ要素**: 数学的思考、暗算、パターン認識

### 実装ポイント
- 素数判定アルゴリズム（エラトステネスの篩 or 試し割り法）
- `touch-action: manipulation;` をすべてのボタンに設定（iPhone対策）
- 既存ゲームと同じスタイル（Bootstrap 5.3、JetBrains Mono、テーマ切り替え）

---

## 2. N-Backゲーム

### ファイル
- `games/nback.html`

### 仕様
- **目的**: N個前に表示された数字と同じかどうかを判定
- **UI**:
  - 数字表示エリア（中央大きく）
  - 「同じ」「違う」の2ボタン
  - 難易度選択（1-Back / 2-Back / 3-Back）
  - スコア表示（正解数、正解率）
  - ラウンド数表示
- **ゲームフロー**:
  1. 難易度選択（1/2/3-Back）
  2. 1秒ごとに数字が表示される（0-9）
  3. N個前と同じか判定してボタン押下
  4. 20-30問で終了→結果表示
- **脳トレ要素**: ワーキングメモリ（科学的根拠あり）

### 実装ポイント
- `setInterval`で自動進行（1秒間隔）
- 履歴配列でN個前の数字を管理
- `touch-action: manipulation;`（iPhone対策）

---

## 3. 足し算チェーン

### ファイル
- `games/addchain.html`

### 仕様
- **目的**: 連続表示される数字を暗算で累積加算
- **UI**:
  - 数字表示エリア（順次表示）
  - 答え入力フィールド + テンキー
  - 問題数選択（5問 / 10問 / 20問）
  - 1問あたりの数字数選択（5個 / 10個）
- **ゲームフロー**:
  1. 設定選択してスタート
  2. 1桁の数字が1秒ごとに5-10個表示される
  3. 数字が消える
  4. 累積和を入力
  5. 正誤判定→次の問題
- **脳トレ要素**: 暗算力、ワーキングメモリ

### 実装ポイント
- 表示タイミング制御（`setTimeout`）
- 既存のテンキーUIを流用可能
- `touch-action: manipulation;`（iPhone対策）

---

## 4. 数字並べ替え

### ファイル
- `games/sort.html`

### 仕様
- **目的**: 表示された数字を記憶して、小さい順に選択
- **UI**:
  - 数字表示エリア（4-6個）
  - 0-9の選択ボタン（記憶後に表示）
  - 難易度選択（4個 / 5個 / 6個）
  - スコア表示
- **ゲームフロー**:
  1. 難易度選択
  2. 数字が3秒間表示される（例: 7, 2, 9, 4）
  3. 数字が消える
  4. 小さい順（または大きい順）にボタンで選択
  5. 正誤判定→次の問題
- **脳トレ要素**: 短期記憶、ソート処理

### 実装ポイント
- 表示/非表示の切り替えタイミング
- ユーザー選択順を配列で記録
- `touch-action: manipulation;`（iPhone対策）

---

## 5. パターン記憶（サイモン風）

### ファイル
- `games/simon.html`

### 仕様
- **目的**: 光った順番を記憶してその通りに押す
- **UI**:
  - 3x3グリッドボタン
  - スコア表示（現在のレベル、最高記録）
  - スタート/リセットボタン
- **ゲームフロー**:
  1. スタート
  2. ランダムなボタンが順番に光る（最初は3個）
  3. プレイヤーが同じ順番で押す
  4. 正解→パターンに1個追加してラウンド継続
  5. 不正解→ゲームオーバー
- **脳トレ要素**: 視覚記憶、順序記憶

### 実装ポイント
- アニメーション制御（CSSトランジション + setTimeout）
- パターン配列の管理
- `touch-action: manipulation;`（iPhone対策）

---

## 共通実装ポイント

### 必須要素
- Bootstrap 5.3 CDN
- JetBrains Mono フォント（Google Fonts）
- テーマ切り替え機能（`setTheme.mini.js`）
- **iPhoneダブルタップズーム対策**: すべてのボタンに `touch-action: manipulation;`
- **レスポンシブデザイン**: 幅360px（モバイル）〜PC画面まで対応。モバイルファーストで実装

### ファイル構造
```
games/
  ├── hitandblow.html
  ├── calc100.html
  ├── janken10.html
  ├── prime.html        ← 新規
  ├── nback.html        ← 新規
  ├── addchain.html     ← 新規
  ├── sort.html         ← 新規
  └── simon.html        ← 新規
```

### 更新ファイル
- `index.html`: Gamesセクションに5つ追加（掲載順に従う）

---

## 進捗チェックリスト

- [x] タスク管理ファイル作成
- [x] 素数判定ゲーム実装
- [x] 素数判定をindex.htmlに追加
- [ ] N-Backゲーム実装
- [ ] N-Backをindex.htmlに追加
- [ ] 足し算チェーン実装
- [ ] 足し算チェーンをindex.htmlに追加
- [ ] 数字並べ替え実装
- [ ] 数字並べ替えをindex.htmlに追加
- [ ] パターン記憶実装
- [ ] パターン記憶をindex.htmlに追加
- [ ] 全ゲーム動作確認
- [ ] 最終的な掲載順序に並び替え
- [ ] デプロイ
